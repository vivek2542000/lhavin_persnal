<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Jewish Day School|Student Sign up</title>
  <link rel="icon" href="/images/logo t.png" type="image/x-icon">
  <link rel="stylesheet" href="/stylesheets/bootstrap.min.css">
  <link rel="stylesheet" href="/stylesheets/style.css">
  <link rel="stylesheet" href="/stylesheets/font-awesome.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css"
    href="https://www.jqueryscript.net/demo/jQuery-Plugin-For-Country-Selecter-with-Flags-flagstrap/dist/css/flags.css">
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/flexslider/2.7.0/flexslider.min.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.6.2/css/bootstrap-select.min.css">
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/0.8.2/css/flag-icon.min.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/11.0.9/css/intlTelInput.css" rel="stylesheet"
    media="screen">
  <link rel="stylesheet" href="/stylesheets/school.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" />

<style>
  .select2-container .select2-selection--single {
    
    height: 35px !important;
  }
</style>
</head>

<body>
  <div class="container">
    <div class="login-form-div" style="margin-top: 5px;">
      <div class="col-md-7 sign-up-form">
        <form action="/user/student-sign-up" method="post"  id="sign_id_student">
          <div class=" logo text-center">
            <img src="/images/logo-new.jpg">
          </div>
          <h5 class="text-center">Student Sign up Form</h5>
          {{#if message}}
          <div class="alert alert-danger">
            {{#each message}}
            <p>{{this}}</p>
            {{/each}}
          </div>
          {{/if}}
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label>First Name</label>
                <input type="text" class="form-control" name="firstname" id="firstName" >
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label>Last Name</label>
                <input type="text" class="form-control" name="lastname" id="LastName">
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label>Email Address</label>
                <input type="email" class="form-control" name="email"  id="email">
              </div>
            </div>
            <div class="col-md-6">                     
                <div class="form-group">
                  <label>Mobile Number</label>
                  <input type="text" class="form-control" name="mobile" id="mobileNumber">
                </div>              
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label>School Name</label>

                <select class="form-control multipleselect " id="all_school" name="schoolid">
                  <option value=0>Select School</option>

                  {{#each schoolName}}
                  <option value={{id}}>{{schoolName}}</option>
                  {{/each}}
                </select>
                  
                   {{!-- <select class="form-control selectpicker newselect newslectbox" id="all_school" name="schoolid" data-live-search="true">
                    <option value=0>Select School</option>
                    {{#each schoolName}}
                    <option value={{id}}>{{schoolName}}</option>
                    {{/each}}
                     </select> --}}

                         
              </div>
            </div>


            <div class="col-md-6">
              <div class="form-group">
                <label>Teacher Name</label>
                <select class="form-control" id="all_teacher" name="teacherid">
                  <option disabled selected>select teacher</option>
                
                  {{#each teachers}}
                  <option value={{id}}>{{firstname}} {{lastname}}</option>
                  {{/each}}

                </select>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label>Class Name</label>
                <select class="form-control" id="all_class" name="classid">
                  <option disabled selected>Select Class</option>
                  {{#each classname}}
                  <option value={{id}}>{{this.className}}</option>
                  {{/each}}
                </select>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label>Enrollment number</label>
                <input type="text" class="form-control" name="enrollmentnumber" id="enroleNumber">
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label>Password</label>
                <input type="password" class="form-control" name="password">
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label>Confirm Password</label>
                <input type="password" class="form-control" name="confirmpassword">
              </div>
            </div>
            <div class="col-md-12 text-center mt-10">
              <button class="main-btn" type="submit"><a class="btn-block">Sign Up</a></button>
              {{!-- href="/user/student-dashboard" --}}
            </div>
          </div>
          <div class="row">
            <div class="col-md-7"> <span class="all-acc">Already have An Account?</span><button><a class="link-btn"
                  href="/user/login">&nbsp;Login</a></button>
            </div>
            <div class="col-md-5 text-center">
              <button><a class="link-btn" href="/">Back</a></button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-----------------modal-----forgot password------------------>
  <div class="modal" id="forgot-password">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-body">
          <h4 class="text-center form-heading">Forgot Password</h4>
          <form>
            <div class="row mt-20">

              <div class="col-md-12">
                <div class="form-group">
                  <label>Enter E-mail</label>
                  <input type="E-mail" name="email" class="form-control">
                </div>
              </div>
              <div class="col-md-12 text-center mt-20">
                <button class="main-btn">Submit</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!-----------------modal forgot password ends--------------->
  <script src="https://kit.fontawesome.com/113b70814b.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <script src="/js/slick.js"></script>
  <script src="/js/jquery.flagstrap.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.6.2/js/bootstrap-select.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/noisy/1.2/jquery.noisy.min.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&amp;sensor=false"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/11.0.9/js/intlTelInput.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/11.0.9/js/intlTelInput.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/11.0.9/js/utils.js"></script>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-touchspin/4.2.5/jquery.bootstrap-touchspin.min.js"></script>
  <script>
    jQuery(document).ready(function () {
      jQuery('#datepicker').datepicker({
        format: 'dd-mm-yyyy',
        startDate: '+1d'
      });
    });
  </script>
  <script>
    $("input[class='touchspin']").TouchSpin();
  </script>
  <script>
    var telInput = $("#phone"),
      errorMsg = $("#error-msg"),
      validMsg = $("#valid-msg");

    // initialise plugin
    telInput.intlTelInput({

      allowExtensions: true,
      formatOnDisplay: true,
      autoFormat: true,
      autoHideDialCode: true,
      autoPlaceholder: true,
      defaultCountry: "in",
      ipinfoToken: "yolo",

      nationalMode: false,
      numberType: "MOBILE",
      //onlyCountries: ['us', 'gb', 'ch', 'ca', 'do'],
      preferredCountries: ['in', 'ae', 'qa', 'om', 'bh', 'kw', 'ma'],
      preventInvalidNumbers: true,
      separateDialCode: true,
      initialCountry: "in",
      geoIpLookup: function (callback) {
        $.get("http://ipinfo.io", function () { }, "jsonp").always(function (resp) {
          var countryCode = (resp && resp.country) ? resp.country : "";
          callback(countryCode);
        });
      },
      utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/11.0.9/js/utils.js"
    });

    var reset = function () {
      telInput.removeClass("error");
      errorMsg.addClass("hide");
      validMsg.addClass("hide");
    };

    // on blur: validate
    telInput.blur(function () {
      reset();
      if ($.trim(telInput.val())) {
        if (telInput.intlTelInput("isValidNumber")) {
          validMsg.removeClass("hide");
        } else {
          telInput.addClass("error");
          errorMsg.removeClass("hide");
        }
      }
    });

    // on keyup / change flag: reset
    telInput.on("keyup change", reset);
  </script>

  <script>
    $("#single").select2({
      placeholder: "Select",
      allowClear: true
    });
    $("#currency").select2({
      placeholder: "Select",
      allowClear: true
    });
    $("#language").select2({
      placeholder: "Select",
      allowClear: true
    });
    $("#language-2").select2({
      placeholder: "Select",
      allowClear: true
    });
    $("#country").select2({
      placeholder: "Select",
      allowClear: true
    });
    $("#country-2").select2({
      placeholder: "Select",
      allowClear: true
    });
  </script>
  <!--  <script src="https://www.jqueryscript.net/demo/jQuery-Plugin-For-Country-Selecter-with-Flags-flagstrap/dist/js/jquery.flagstrap.js"></script> -->
  <!-------------Acoordian JS--------------->
  <script>
    $(document).ready(function () {
      $(".set > a").on("click", function () {
        if ($(this).hasClass("active")) {
          $(this).removeClass("active");
          $(this)
            .siblings(".content")
            .slideUp(200);
          $(".set > a i")
            .removeClass("fa-angle-down")
            .addClass("fa-angle-up");
        } else {
          $(".set > a i")
            .removeClass("fa-angle-down")
            .addClass("fa-angle-up");
          $(this)
            .find("i")
            .removeClass("fa-angle-up")
            .addClass("fa-angle-down");
          $(".set > a").removeClass("active");
          $(this).addClass("active");
          $(".content").slideUp(200);
          $(this)
            .siblings(".content")
            .slideDown(200);
        }
      });
    });
  </script>
  <!---------------------Country dropdown js-------------->
  <script>
    $('#basic').flagStrap();

    $('.all_school').flagStrap({
      countries: {
        "US": "USD",
        "AU": "AUD",
        "CA": "CAD",
        "SG": "SGD",
        "GB": "GBP",
      },
      buttonSize: "btn-sm",
      buttonType: "btn-info",
      labelMargin: "10px",
      scrollable: false,
      scrollableHeight: "350px"
    });

    $('#advanced').flagStrap({
      buttonSize: "btn-lg",
      buttonType: "btn-primary",
      labelMargin: "20px",
      scrollable: false,
      scrollableHeight: "350px"
    });
  </script>

  <script>
    $(document).ready(function () {
      $('#all_school').on('change', function () {
        var school_id = this.value;
        $.getJSON(`/user/all_teacher/${school_id}`, function (data) {
          $("#all_teacher").empty();
          $("#all_teacher").append(
            $("<option disabled selected >").text("Select teacher")
          );
          $.each(data, function (index, item) {
            $("#all_teacher").append(
              $("<option>")
                .text(item.firstname)
                .val(item.id)
            );
          });
        });
        $.getJSON(`/user/all_class/${school_id}`, function (data) {
          $("#all_class").empty();
          $("#all_class").append(
            $("<option disabled selected >").text("Select class")
          );
          $.each(data, function (index, item) {
            $("#all_class").append(
              $("<option>")
                .text(item.className)
                .val(item.id)
            );
          });
        });
      });
    });

//$(function() {
  //$('.selectpicker').selectpicker();
//});        

  
        $('.multipleselect').select2({
          placeholder: "school Name"
        });

  </script>

<script>
  document.getElementById("sign_id_student").addEventListener("submit", function(event){
 const formData = document.querySelector('#sign_id_student').elements;
   const sin_firstName = formData.firstname.value
   const sin_lastName = formData.lastname.value
   const sin_email = formData.email.value
   const sin_mobileNumber = formData.mobile.value
   const sin_enroleNumber = formData.enrollmentnumber.value

   localStorage.setItem('sin_firstName', (sin_firstName));
   localStorage.setItem('sin_lastName', (sin_lastName));
   localStorage.setItem('sin_email', (sin_email));
   localStorage.setItem('sin_mobileNumber', (sin_mobileNumber));
   localStorage.setItem('sin_enroleNumber', (sin_enroleNumber));
});

const sin_fName = localStorage.getItem("sin_firstName")
const sin_lName = localStorage.getItem("sin_lastName")
const sinEmail = localStorage.getItem("sin_email")
const sinMobileNumber = localStorage.getItem("sin_mobileNumber")
const sinEnroleNumber = localStorage.getItem("sin_enroleNumber")


document.getElementById('firstName').value = sin_fName;
document.getElementById('LastName').value = sin_lName;
document.getElementById('email').value = sinEmail;
document.getElementById('mobileNumber').value = sinMobileNumber;
document.getElementById('enroleNumber').value = sinEnroleNumber;


</script>
</body>

</html>