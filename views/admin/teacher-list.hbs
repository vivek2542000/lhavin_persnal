<section id="content-wrapper">
  <div class="container-fluid">
    <div class="row p-t-b-20">
      <div class="col-md-12">
        <div class="form-card no-b">
          <div class="login-form-card">
            <h2 class="form-title">Teachers</h2>
            <div class="row">
              <div class="col-md-12">
                <div class="table-responsive">
                  <table id="paginate-tbl-122" class="table table-striped table-bordered display" >
                    <thead>
                        <tr>
                        <th>Id</th>
                        <th hidden>firstname</th>
                        <th hidden>lastname</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>status</th>
                        <th>School Name</th>
                        <th>Version</th>
                        <th>L'havin workbooks version </th>
                        <th>Assigned PDF</th>
                        <th>Action</th>
                        <th>Judaic principal name</th>
                        <th>Judaic principal email</th>
                        <th>Registration Date</th>
                        <th>Password</th>
                      </tr>
                    </thead>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <!--  </div> -->
        </div>
      </div>
    </div>
</section>

                   <div id="con-close-modal" class="modal fade" tabindex="-1" role="dialog"
                      aria-labelledby="myModalLabel" aria-hidden="true">
                      <div class="modal-dialog">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h4 class="modal-title">Edit Teacher</h4>
                          </div>
                          <div class="modal-body">
                            
                          <form action="/admin/edit-teacher" method="POST">
                            <div class="form-group row">
                              <div class="col-sm-8">
                                <input type="number" name="id" value=${id} hidden class="invoice-imt" id="inp_id" >
                              </div>
                              <div class="col-sm-8">
                                <input type="email" name="oldemail" value="" hidden
                                  class="invoice-imt"
                                  id="oldemail_id">
                              </div>
                            </div>
                            <div class="form-group row">
                              <label class="col-sm-4 control-label">First Name</label>
                              <div class="col-sm-8">
                                <input type="text" 
                                 id="firstName_id"
                                class="form-control input-sm invoice-amt"
                                  name="firstname" value="" Placeholder="Enter First name"
                                  onkeypress="return isNumber(event)">
                              </div>
                            </div>
                            <div class="form-group row">
                              <label class="col-sm-4 control-label">Last Name</label>
                              <div class="col-sm-8">
                                <input type="text" 
                                 id="lastName_id"
                                class="form-control input-sm invoice-bmt"
                                  name="lastname" value="" Placeholder="Enter Last name">
                              </div>
                            </div>
                            <div class=" form-group row">
                              <label class="col-sm-4 control-label">email</label>
                              <div class="col-sm-8">
                                <input type="email"
                                 id="email_id"
                                 class="form-control input-sm invoice-emt" name="email"
                                  value="" Placeholder="Enter email">
                              </div>
                            </div>
                            <div class='form-group row'>
                              <label class="col-sm-4 control-label">School Name</label>
                              <div class="col-sm-8">
                           

                                <select name="schoolid" class="form-control input-sm invoice-cmt" id="school_id">
                                                <option value={{schoolid}}>{{schoolName}}</option>
                                                {{#each ../school}}
                                                  <option value="{{this.id}}">{{this.schoolName}}</option>
                                                {{/each}}
                                              </select>

                              </div>
                            </div>
                          </div>
                           <div class="col-md-12">
                      <div class="form-group">
                        <label>What is the name of the Judaic principal or curriculum coordinator in your school who oversees the L'havin program?</label>
                      <textarea  name="JudaicName" rows="2" 
                      id="JudaicName_id"
                      cols="70"  class="form-control">${JudaicName}</textarea>
                      </div>
                          </div>
                            <div class="col-md-12">
                            <div class="form-group">
                              <label>What is the email address of the Judaic principal or curriculum coordinator in your school who oversees the L'havin program?</label>
                        <input type="email"
                         class="form-control" name="JudaicEmail" value="" id="JudaicEmail_id" />
                            
                            </div>
                          </div>
                            <div class="col-md-12">
                      <div class="form-group newslectbox">
                        <label>Which version of the L'havin workbooks do you need?</label>
                        <select
                        style="width:100%"
                          name="workbooks"
                          class="form-control multipleselect"
                          id="select-country"
                        >
                          <option value="Standard">Standard</option>
                          <option value="Ivrit">Ivrit</option>
                        </select>
                      </div>
                          </div>
                            <div class="col-md-12 form-group">
                              <span class="text-success" >
                                Please indicate the workbooks you need to access: 
                              </span>
                              </br></br>
                              <span>PLEASE NOTE: You will only be given access to books which your school has purchased for this year.</span>
                            </div>
                            <div class="col-md-12">
                        <div class="form-group newslectbox">
                          <select
                          multiple="multiple"
                            name="books"
                            class="form-control multipleselect"
                            id="select-books-121"
                            style="width:400px"
                          >
                           
                            <option value="Hachana L'Chumash - Script Version">Hachana L'Chumash - Script Version</option>
                            <option value="Hachana L'Chumash - English Version">Hachana L'Chumash - English Version</option>
                            <option value="Hachana L'Chumash - Print Version">Hachana L'Chumash - Print Version</option>
                            <option value="Hachana L'Chumash - Ivrit Version">Hachana L'Chumash - Ivrit Version</option>
                            <option value="פָּרָשַׁת לֶךְ-לְךָ 2AB">פָּרָשַׁת לֶךְ-לְךָ 2AB</option>
                            <option value="פָּרָשַׁת לֶךְ-לְךָ 2C">פָּרָשַׁת לֶךְ-לְךָ 2C</option>
                            <option value="פָּרָשַׁת לֶךְ-לְךָ 2D">פָּרָשַׁת לֶךְ-לְךָ 2D</option>
                            <option value="פָּרָשַׁת וַיֵּרָא 3A">פָּרָשַׁת וַיֵּרָא 3A</option>
                            <option value="פָּרָשַׁת וַיֵּרָא 3B">פָּרָשַׁת וַיֵּרָא 3B</option>
                            <option value="פָּרָשַׁת וַיֵּרָא 3C">פָּרָשַׁת וַיֵּרָא 3C</option>
                            <option value="פָּרָשַׁת חַיֵּי שָׁרָה 4A">פָּרָשַׁת חַיֵּי שָׁרָה 4A</option>
                            <option value="פָּרָשַׁת חַיֵּי שָׁרָה 4B">פָּרָשַׁת חַיֵּי שָׁרָה 4B</option>
                            <option value="פָּרָשַׁת חַיֵּי שָׁרָה 4C">פָּרָשַׁת חַיֵּי שָׁרָה 4C</option>
                            <option value="פָּרָשַׁת תּוֹלְדוֹת 5A">פָּרָשַׁת תּוֹלְדוֹת 5A</option>
                            <option value="פָּרָשַׁת תּוֹלְדוֹת 5B">פָּרָשַׁת תּוֹלְדוֹת 5B</option>
                            <option value="פָּרָשַׁת וַיֵּצֵא 6A">פָּרָשַׁת וַיֵּצֵא 6A</option>
                            <option value="פָּרָשַׁת וַיֵּצֵא 6B">פָּרָשַׁת וַיֵּצֵא 6B</option>
                            <option value="פָּרָשַׁת וַיִּשְׁלַח 7A">פָּרָשַׁת וַיִּשְׁלַח 7A</option>
                            <option value="פָּרָשַׁת וַיִּשְׁלַח 7B">פָּרָשַׁת וַיִּשְׁלַח 7B</option>
                            <option value="פָּרָשַׁת וַיֵּשֶׁב 8A">פָּרָשַׁת וַיֵּשֶׁב 8A</option>
                            <option value="פָּרָשַׁת וַיֵּשֶׁב 8B">פָּרָשַׁת וַיֵּשֶׁב 8B</option>
                            <option value="פָּרָשַׁת מִקֵּץ 9A">פָּרָשַׁת מִקֵּץ 9A</option>
                            <option value="פָּרָשַׁת מִקֵּץ 9B">פָּרָשַׁת מִקֵּץ 9B</option>
                            <option value="פָּרָשַׁת וַיִּגַּשׁ 10A">פָּרָשַׁת וַיִּגַּשׁ 10A</option>
                            <option value="פָּרָשַׁת וַיִּגַּשׁ 10B">פָּרָשַׁת וַיִּגַּשׁ 10B</option>
                            <option value="פָּרָשַׁת וַיְּחִי 11">פָּרָשַׁת וַיְּחִי 11</option>
                            <option value=" 12פָּרָשַׁת שְׁמוֹת"> 12פָּרָשַׁת שְׁמוֹת</option>
                            <option value="פָּרָשַׁת וָאֵרָא 13">פָּרָשַׁת וָאֵרָא 13</option>
                            <option value="14 פָּרָשַׁת בא">14 פָּרָשַׁת בא</option>
                            <option value="סֵפֶּר יְהוֹשֻׁעַ">סֵפֶּר יְהוֹשֻׁעַ</option>
                            <option value="סֵפֶּר שמואל אי">סֵפֶּר שמואל אי</option>
                            <option value="ברכה אחרונה">ברכה אחרונה</option>
                            <option value="שמונה עשרה">שמונה עשרה</option>
                            <option value="Grade 3 - Chumash Skills Review Workbook">Grade 3 - Chumash Skills Review Workbook</option>
                            <option value="Grade 5 - Chumash Skills Review Workbook C">Grade 5 - Chumash Skills Review Workbook C</option>
                            <option value="Grade 5 - Chumash Skills Review Workbook D">Grade 5 - Chumash Skills Review Workbook D</option>
                            <option value="Grade 5 - Chumash Skills Review Workbook E">Grade 5 - Chumash Skills Review Workbook E</option>
                               <option value="Skills workbook">Skills workbook</option>
                    <option value="DWD Bracha Achrona">DWD Bracha Achrona</option>
                    <option value="DWD Shemoneh Esrei">DWD Shemoneh Esrei</option>
                          </select>
                        </div>
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="main-btn" data-dismiss="modal">Close</button>
                            <button type="submit" class="main-btn">Update</button>
                          </div>
                          </form>
                        </div>
                      </div>
                    </div>
                  
              

</div>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
  integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js"
  integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"
  integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>

<script>
  $(document).ready(function () {
    //$(".zz-modal").click(function() {
    //  $("#con-close-modal").modal('show');
    //});

    $('.con-close-modal').on('show.bs.modal', function (e) {
      var _button = $(e.relatedTarget); // Button that triggered the modal
      var _row = _button.parents("tr");

    });
  });
</script>

<script>
  $(':radio').change(function () {
    console.log('New star rating: ' + this.value);
  });
</script>

<script>
  $(document).ready(function () {
    var buttonAdd = $("#add-button2");
    var buttonRemove = $("#remove-button2");
    var className = ".dynamic-input2";
    var count = 0;
    var field = "";
    var maxFields = 50;

    function totalFields() {
      return $(className).length;
    }

    function addNewField() {
      count = totalFields() + 1;
      field = $("#dynamic-input-2").clone();
      field.attr("id", "dynamic-input-" + count);
      field.children("label").text("Field " + count);
      field.find("input").val("");
      $(className + ":last").after($(field));
    }

    function removeLastField() {
      if (totalFields() > 1) {
        $(className + ":last").remove();
      }
    }

    function enableButtonRemove() {
      if (totalFields() === 2) {
        buttonRemove.removeAttr("disabled");
        buttonRemove.addClass("shadow-sm");
      }
    }

    function disableButtonRemove() {
      if (totalFields() === 1) {
        buttonRemove.attr("disabled", "disabled");
        buttonRemove.removeClass("shadow-sm");
      }
    }

    function disableButtonAdd() {
      if (totalFields() === maxFields) {
        buttonAdd.attr("disabled", "disabled");
        buttonAdd.removeClass("shadow-sm");
      }
    }

    function enableButtonAdd() {
      if (totalFields() === (maxFields - 1)) {
        buttonAdd.removeAttr("disabled");
        buttonAdd.addClass("shadow-sm");
      }
    }

    buttonAdd.click(function () {
      addNewField();
      enableButtonRemove();
      disableButtonAdd();
    });

    buttonRemove.click(function () {
      removeLastField();
      disableButtonRemove();
      enableButtonAdd();
    });
  });

    function openEditModal(fn,id,schoolList=""){
      
      let dv     = $(fn).attr('data-id');
      let dvJson = JSON.parse(dv);
      let optionsList = '';
      /* 
        dvJson
      */
    let id_int  = $("#id_int_"+id).val();
    let active  = $("#active_"+id).val();
    let workbooks  = $("#workbooks_"+id).val();
    let TotalAsign  = $("#TotalAsign_"+id).val();
    let books  = $("#books_"+id).val();
    let JudaicEmail  = $("#JudaicEmail_"+id).val();
    let firstname  = $("#firstname_"+id).val();
    let schoolName  = $("#schoolName_"+id).val();
    let email  = $("#email_"+id).val();
    let lastname  = $("#lastname_"+id).val();
    let schoolid  = $("#schoolid_"+id).val();
    let JudaicName  = $("#JudaicName_"+id).val();
    let totalEdits  = $("#totalEdits_"+id).val();
    $('#inp_id').val(id);
    $('#oldemail_id').val(email);
    $('#firstName_id').val(firstname);
    $('#lastName_id').val(lastname);
    $('#email_id').val(email);
    $('#JudaicEmail_id').val(JudaicEmail);
    $('#JudaicName_id').val(JudaicName);
    $('#school_id').val(schoolName);
    $('#select-country').val(workbooks);
    $('#select-books-121').val(books);
    
    let booksArr = books.split(',');
    $('#select-books-121').val(booksArr).change();
      dvJson.forEach((item)=>{
        optionsList += `<option value="${item.id}"
          ${schoolName===item.schoolName? 'selected':''}
        >${item.schoolName}</option>`;
      })
      $('#school_id').html(optionsList);
    /*
    $('#select-books-121').val(booksArr);
     */
    $('#con-close-modal').modal('show');
  // alert(books)
  }

</script>
<script>
  $(document).ready(function() {
     });
  
  $(document).ready(function () {
     $('#paginate-tbl-122').DataTable({
        ajax: 'teacher-list-paginate',
        columns: [
            { data: 'id' },
            { data: 'full_name' },
            { data: 'email' },
            { data: 'isActive' },
            { data: 'schoolName' },
            { data: 'books' },
            { data: 'workbooks' },
            { data: 'TotalAsign' },
            { data: 'action' },
            { data: 'JudaicName' },
            { data: 'JudaicEmail' },
            { data: 'create_time' },
            { data: 'password' },
        ],
      "order": [[0, "desc"]]

    });
    
  });
  
</script>
  <script>
    document.getElementById("deleteteacher").onclick = function () {
      document.getElementById("form3").submit();
    }

    document.getElementById("idu").onclick = function () {
      document.getElementById("form6").submit();
    }
    document.getElementById("teacherstatus").onclick = function () {
      document.getElementById("form4").submit();
    }
        $('#select-books-121').select2({
          placeholder: "school Name"
        });
  </script>
