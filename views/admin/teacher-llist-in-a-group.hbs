<section id="content-wrapper">
  <div class="container-fluid">
    <div class="row p-t-b-20">
      <div class="col-md-12">
        <div class="form-card no-b">
          <div class="login-form-card">
            <!-- <div class="login-form-content"> -->

            {{!-- <h2 class="form-title">{{groupname}}</h2> --}}
            <div class="head-title">
              <h2 class="form-title">{{groupname}}</h2>
              <button class="main-btn  btn-xs zz-modal" data-toggle="modal" data-target="#con-close-modal">Add
                Teacher's
              </button>
            </div>
            <form action="/admin/edit-teacher-group" method="POST">
              <div id="con-close-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">

                      <h4 class="modal-title">Update {{groupname}}</h4>
                    </div>
                    <div class="modal-body">
                      {{!-- <div class="form-group row">
                          
                                                  <div class="col-sm-8">
                                                      <input type="number" name="id" hidden class="invoice-imt">
                                                  </div>
                                              </div> --}}

                      <div class="dropdownMenus col-md-12">

                        <div class='form-group'>
                          <label for='brandFilter'>Group Name</label>
                          <input hidden type="number" name="groupID" value="{{groupID}}">
                          <input class="drop-down-text-dark" type="text" name="groupname" readonly
                            value="{{groupname}}">
                        </div>
                        {{!-- <div class="form-group">
                                          <input type="radio" name="cars" value="2" id="teacher-name">
                                          <label for="teacher-name">Teacher</label>
                                          <input type="radio" name="cars" value="3" id="group-name">
                                          <label for="group-name">Group</label>
                                        </div> --}}
                        <div class='form-group'>
                          <label>Teacher Name</label>
                          <select multiple="multiple" name="teachername" class='form-control multipleselect'>
                            {{#each teacherlists}}
                              <option value="{{this.id}}">{{this.firstname}} {{this.lastname}}</option>
                            {{/each}}
                          </select>
                        </div>
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="new-main-btn" data-dismiss="modal">Close</button>
                      <button type="submit" class="new-main-btn">ADD
                      </button>

                    </div>
                  </div>
                </div>


              </div>
            </form>

            <!--  <div class="form-define-head">
                <h4><span>step 3</span>Other Links</h4>
              </div> -->

            <div class="row">
              <div class="col-md-12">
                <div class="table-responsive">
                  <table id="example" class="table table-striped table-bordered display">
                    <thead>
                      <tr>
                        <th>Id</th>
                        <th hidden>firstname</th>
                        <th hidden>lastname</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>School Name</th>
                        <th>Action</th>
                      </tr>
                    </thead>

                    <tbody>
                      {{#each teacheringroup}}
                        <tr>
                          <td class="invoice-imt">{{id}}</td>
                          <td>{{firstname }} {{lastname}}</td>
                          <td class="invoice-amt" hidden>{{firstname }} </td>
                          <td class="invoice-bmt" hidden>{{lastname}}</td>
                          <td class="invoice-emt">{{email}}</td>
                          <td class="invoice-cmt">{{schoolName}}</td>
                          <td class="text-center">
                            <table>
                              <tr>
                                <td hidden> <button class="edit-btn btn-xs zz-modal con-close-modal"
                                    data-target="#con-close-modal-{{id}}" data-toggle="modal">Edit</button></td>
                                <form action="/admin/edit-teacher" method="POST">
                                  <div id="con-close-modal-{{id}}" class="modal fade" tabindex="-1" role="dialog"
                                    aria-labelledby="myModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                      <div class="modal-content">
                                        <div class="modal-header">

                                          <h4 class="modal-title">Edit Teacher</h4>
                                        </div>
                                        <div class="modal-body">
                                          <div class="form-group row">

                                            <div class="col-sm-8">
                                              <input type="number" name="id" value={{id}} hidden class="invoice-imt">
                                            </div>
                                            <div class="col-sm-8">
                                              <input type="email" name="oldemail" value={{email}} hidden
                                                class="invoice-imt">
                                            </div>
                                          </div>
                                          <div class="form-group row">
                                            <label class="col-sm-4 control-label">First Name</label>
                                            <div class="col-sm-8">
                                              <input type="text" class="form-control input-sm invoice-amt"
                                                name="firstname" value="{{firstname}}" Placeholder="Enter First name"
                                                onkeypress="return isNumber(event)">
                                            </div>
                                          </div>
                                          <div class="form-group row">
                                            <label class="col-sm-4 control-label">Last Name</label>
                                            <div class="col-sm-8">
                                              <input type="text" class="form-control input-sm invoice-bmt"
                                                name="lastname" value="{{lastname}}" Placeholder="Enter Last name">
                                            </div>
                                          </div>
                                          <div class=" form-group row">
                                            <label class="col-sm-4 control-label">email</label>
                                            <div class="col-sm-8">
                                              <input type="email" class="form-control input-sm invoice-emt" name="email"
                                                value="{{email}}" Placeholder="Enter email">
                                            </div>
                                          </div>

                                          {{!-- <div class="form-group row">
                                          <label class="col-sm-4 control-label">School Name</label>

                                          <div class="col-sm-8">
                                            <input type="text" class="form-control input-sm invoice-cmt"
                                              name="schoolname" value="{{schoolName}}" Placeholder="Enter school name">
                                          </div>
                                        </div> --}}


                                          <div class='form-group row'>
                                            <label class="col-sm-4 control-label">School Name</label>
                                            <div class="col-sm-8">
                                              <select name="schoolid" class="form-control input-sm invoice-cmt">
                                                <option value={{schoolid}}>{{schoolName}}</option>
                                                {{#each ../school}}
                                                  <option value="{{this.id}}">{{this.schoolName}}</option>
                                                {{/each}}
                                              </select>
                                            </div>

                                          </div>

                                        </div>
                                        <div class="modal-footer">
                                          <button type="button" class="main-btn" data-dismiss="modal">Close</button>
                                          <button type="submit" class="main-btn">Update
                                          </button>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </form>
                                <td>
                                  <form id="form3" action="/admin/delete-teacher-from-group" method="POST">
                                    <input type="hidden" name="id" id="deleteteacher" value="{{id}}">
                                    <input type="hidden" name="groupID" value="{{../groupID}}">
                                    <button class="delete-btn fa fa-trash-o" style="color: red;"></button>
                                    <script>
                                      document.getElementById("deleteteacher").onclick = function () {
                                        document.getElementById("form3").submit();
                                      }
                                    </script>
                                  </form>
                                </td>
                                <td hidden>
                                  <form id="form3" action="/admin/editting-history-teacher/{{id}}" method="GET">
                                    <button class="delete-btn">Logs</button>
                                  </form>
                                </td>
                              </tr>
                            </table>

                          </td>
                          {{!-- <td><a href="/admin/assigned-pdf-teacher-view">5</a></td> --}}
                        </tr>
                      {{/each}}
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <!--  </div> -->
        </div>
      </div>
    </div>
</section>


</div>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
  integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js"
  integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"
  integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>

<script>
  $(document).ready(function () {
    //$(".zz-modal").click(function() {
    //  $("#con-close-modal").modal('show');
    //});

    $('.con-close-modal').on('show.bs.modal', function (e) {
      var _button = $(e.relatedTarget); // Button that triggered the modal
      var _row = _button.parents("tr");

    });
  });
</script>

<script>
  $(':radio').change(function () {
    console.log('New star rating: ' + this.value);
  });
</script>
<script>
  $(document).ready(function () {
    var buttonAdd = $("#add-button2");
    var buttonRemove = $("#remove-button2");
    var className = ".dynamic-input2";
    var count = 0;
    var field = "";
    var maxFields = 50;

    function totalFields() {
      return $(className).length;
    }

    function addNewField() {
      count = totalFields() + 1;
      field = $("#dynamic-input-2").clone();
      field.attr("id", "dynamic-input-" + count);
      field.children("label").text("Field " + count);
      field.find("input").val("");
      $(className + ":last").after($(field));
    }

    function removeLastField() {
      if (totalFields() > 1) {
        $(className + ":last").remove();
      }
    }

    function enableButtonRemove() {
      if (totalFields() === 2) {
        buttonRemove.removeAttr("disabled");
        buttonRemove.addClass("shadow-sm");
      }
    }

    function disableButtonRemove() {
      if (totalFields() === 1) {
        buttonRemove.attr("disabled", "disabled");
        buttonRemove.removeClass("shadow-sm");
      }
    }

    function disableButtonAdd() {
      if (totalFields() === maxFields) {
        buttonAdd.attr("disabled", "disabled");
        buttonAdd.removeClass("shadow-sm");
      }
    }

    function enableButtonAdd() {
      if (totalFields() === (maxFields - 1)) {
        buttonAdd.removeAttr("disabled");
        buttonAdd.addClass("shadow-sm");
      }
    }

    buttonAdd.click(function () {
      addNewField();
      enableButtonRemove();
      disableButtonAdd();
    });

    buttonRemove.click(function () {
      removeLastField();
      disableButtonRemove();
      enableButtonAdd();
    });
  });

</script>
